<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>quản lí sản phẩm</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
<h3>Add New Product</h3>
<input type="text" name="product" id="input" size="30" placeholder="New Product">
<button type="button" class="btn btn-success" onclick="addProduct()" style="border-radius: 5px;height: 35px">Add
</button>
<h3>Dissplay All Product</h3>
<table>
    <tr>
        <th style="width:1000px;">Product Name</th>
        <td id="number" style="color: red"></td>
    </tr>
</table>
<table class="table table-striped table-hover">
    <tbody id="display">
    </tbody>

</table>
<script>
    let product = ['Sony Xperia', 'Samsung Galaxy', 'Nokia 6'];

    function displayProduct() {
        document.getElementById("number").innerHTML= product.length + "products";
        let display = '';
        for (let i = 0; i < product.length; i++) {
            display += `
              <tr id="product${i}">
        <th width="400px">${product[i]}</th>
        <td width="400px"><button type="button" class="btn btn-success"onclick="editProduct(${i})" id="edit${i}">Edit</button></td>
        <td><button type="button" class="btn btn-success" onclick="deleteProduct(${i})">Delete</button></td>
        <td></td>
             </tr>`
        }

        document.getElementById('display').innerHTML = display;

    }

    displayProduct();

    function addProduct() {
        product.push(document.getElementById('input').value);
        document.getElementById('number').innerText = product.length + 'product';
        document.getElementById('input').value = "";
        displayProduct();

    }

    function deleteProduct(i) {
        let conf = confirm('Bạn có muốn xóa không?');
        if (conf===true) {
            product.splice(i, 1);
        }
        document.getElementById('number').innerText = product.length + 'product';
        displayProduct();
    }

    function editProduct(i) {
        displayProduct();
        document.getElementById(`product${i}`).innerHTML = `
             <tr>
                <td><input type="text" id="name${i}" value="${product[i]}"></td>
                <td><button type="button" class="btn btn-success" onclick="Save(${i})">Save</button></td>
                <td><button type="button" class="btn btn-success" onclick="deleteProduct(${i})">Delete</button></td>
                <td></td>
            </tr>
        `

    }


    function Save(i) {
        let name = document.getElementById(`name${i}`).value;
        product[i] = name;
        displayProduct();

    }


</script>
</body>
</html>